<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diyet Uygulaması</title>
  <link rel="stylesheet" href="style.css">
    <!-- Navbar -->
    <nav class="navbar">
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#symptoms">Symptoms</a></li>
        <li><a href="recipes.html">Meals</a>
        <li><a href="account.html">My Account</a></li>
        </li>
      </ul>
    </nav>
    <!-- Home Section -->
  <section id="home">
    <header class="header">
      <div class="header-background">
        <div class="welcome-text">
          <h1>DİYET UYGULAMASI</h1>
          <p class="greeting">Hello, Ali Osman! What did you eat today?</p>
        </div>
      </div>
    </header>
  </section>
  <style>
    /* Genel Stiller */
    /* Genel Stiller */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #f4f4f4;
}

.feature-containers {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Full Width Feature Container */
.feature-container.full-width {
  width: 100%;
  display: flex;
  gap: 20px;
  justify-content: space-between;
  align-items: flex-start;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 15px;
}

/* İlk Konteyner İçindeki Bölümler */
.symptom-container,
.selected-symptoms-container,
.meal-container {
  flex: 1;
  padding: 15px;
  background-color: #f9f9f9;
  border: 1px solid #ddd;
  border-radius: 10px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Alttaki Üç Feature Container */
.feature-container {
  flex: 1;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 50px;
  text-align: center;
}

/* 3 Feature Container Yan Yana Dizilim */
.three-containers {
  display: flex;
  gap: 20px;
}

.three-containers .feature-container {
  flex: 1; /* Üçü eşit genişlikte */
}

/* Responsive Ayar: Küçük Ekranlarda Alt Alta Diz */
@media (max-width: 768px) {
  .feature-container.full-width {
    flex-direction: column;
  }

  .three-containers {
    flex-direction: column;
  }
}
  </style>
</head>
<body>

  <!-- Feature Containers -->
  <section class="feature-containers">
    <!-- Tüm Satırı Kaplayan Konteyner -->
    <div class="feature-container full-width">
      <!-- Sol Bölüm: Symptom Selection -->
      <div class="symptom-container">
        <h3>Symptom Selection</h3>
        <div class="symptom-buttons">
          <button class="symptom-button digestion" data-symptom="Şişkinlik">Şişkinlik</button>
          <button class="symptom-button digestion" data-symptom="Karın Ağrısı">Karın Ağrısı</button>
          <button class="symptom-button digestion" data-symptom="Gaz">Gaz</button>
          <button class="symptom-button digestion" data-symptom="İshal">İshal</button>
          <button class="symptom-button digestion" data-symptom="Kabızlık">Kabızlık</button>
          <button class="symptom-button digestion" data-symptom="Mide Bulantısı">Mide Bulantısı</button>
          <button class="symptom-button digestion" data-symptom="Reflü veya Hazımsızlık">Reflü veya Hazımsızlık</button>

          <button class="symptom-button skin" data-symptom="Kaşıntı">Kaşıntı</button>
          <button class="symptom-button skin" data-symptom="Kızarıklık">Kızarıklık</button>
          <button class="symptom-button skin" data-symptom="Kurdeşen">Kurdeşen</button>
          <button class="symptom-button skin" data-symptom="Egzama">Egzama</button>
          <button class="symptom-button skin" data-symptom="Deride Şişlik">Deride Şişlik</button>

          <button class="symptom-button respiratory" data-symptom="Burun Akıntısı veya Tıkanıklığı">Burun Akıntısı veya Tıkanıklığı</button>
          <button class="symptom-button respiratory" data-symptom="Hapşırma">Hapşırma</button>
          <button class="symptom-button respiratory" data-symptom="Nefes Darlığı">Nefes Darlığı</button>
          <button class="symptom-button respiratory" data-symptom="Boğaz Kaşıntısı">Boğaz Kaşıntısı</button>

          <button class="symptom-button nerve" data-symptom="Baş Ağrısı">Baş Ağrısı</button>
          <button class="symptom-button nerve" data-symptom="Migren">Migren</button>
          <button class="symptom-button nerve" data-symptom="Halsizlik veya Yorgunluk">Halsizlik veya Yorgunluk</button>
          <button class="symptom-button nerve" data-symptom="Konsantrasyon Bozukluğu">Konsantrasyon Bozukluğu</button>
          <button class="symptom-button nerve" data-symptom="Sersemlik Hissi">Sersemlik Hissi</button>

          <button class="symptom-button muscle" data-symptom="Eklem Ağrıları">Eklem Ağrıları</button>
          <button class="symptom-button muscle" data-symptom="Kas Ağrıları">Kas Ağrıları</button>
          <button class="symptom-button muscle" data-symptom="Kas Güçsüzlüğü">Kas Güçsüzlüğü</button>

          <button class="symptom-button other" data-symptom="Kalp Çarpıntısı">Kalp Çarpıntısı</button>
          <button class="symptom-button other" data-symptom="Uyku Bozuklukları">Uyku Bozuklukları</button>
          <button class="symptom-button other" data-symptom="Ağız veya Boğaz Şişmesi">Ağız veya Boğaz Şişmesi</button>
          <button class="symptom-button other" data-symptom="Kilo Artışı veya Kilo Kaybı">Kilo Artışı veya Kilo Kaybı</button>
          <button class="symptom-button other" data-symptom="Gözlerde Kaşıntı veya Kızarıklık">Gözlerde Kaşıntı veya Kızarıklık</button>

        </div>
      </div>

      <!-- Orta Bölüm: Seçilen Semptomlar -->
      <div class="selected-symptoms-container">
        <h3>Today's Selected Symptoms</h3>
        <ul id="selected-symptoms" style="list-style-type: none; padding: 0;"></ul>
      </div>

      <!-- Sağ Bölüm: Bugünün Yemekleri -->
<div class="meal-container">
  <h3>Today's Meals</h3>
  <input type="text" id="meal-input" placeholder="Enter meal name" style="width: 100%; padding: 5px; margin-bottom: 10px;" />
  <button id="add-meal-button" style="padding: 5px 10px;">Add Meal</button>
  <button id="delete-selected-meals" style="padding: 5px 10px; margin-top: 10px;">Delete Selected Meals</button>
  <ul id="meal-list" style="list-style-type: none; padding: 0;"></ul>
</div>

<script>
  let mealListData = []; // Veritabanına eklenecek veya silinecek yemekler

  // Yemek ekleme işlevi
  document.getElementById("add-meal-button").addEventListener("click", () => {
    const mealInput = document.getElementById("meal-input");
    const mealName = mealInput.value.trim();

    if (mealName) {
      const mealList = document.getElementById("meal-list");
      const li = document.createElement("li");
      li.textContent = mealName;

      // Checkbox ekleyelim
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.className = "meal-checkbox";
      checkbox.style.marginRight = "10px";

          // Update butonu
      const updateButton = document.createElement("button");
      updateButton.textContent = "Update";
      updateButton.className = "navbar-button";
      updateButton.style.marginLeft = "10px";
      updateButton.onclick = () => updateMeal(li, mealInput);

      // Delete butonu
      const deleteButton = document.createElement("button");
      deleteButton.textContent = "Delete";
      deleteButton.className = "navbar-button";
      deleteButton.onclick = () => li.remove();


      li.prepend(checkbox);
      li.appendChild(updateButton);
      li.appendChild(deleteButton);
      mealList.appendChild(li);

      mealListData.push(mealName);
      mealInput.value = "";
    }
  });

  // Çoklu yemek silme işlevi
  document.getElementById("delete-selected-meals").addEventListener("click", () => {
    const selectedMeals = document.querySelectorAll(".meal-checkbox:checked");
    selectedMeals.forEach(checkbox => {
      checkbox.parentElement.remove();
    });
  });

  // Yemek güncelleme işlevi
  function updateMeal(mealItem, mealInput) {
    const newMealName = prompt("Enter the updated meal name:", mealItem.textContent.trim());
    if (newMealName) {
      mealItem.childNodes[1].nodeValue = ` ${newMealName} `;
    }
  }
</script>
    </div>
  </section>

<script>
  const selectedSymptoms = [];
  document.querySelectorAll(".symptom-button").forEach(button => {
    button.addEventListener("click", () => {
      button.classList.toggle("active");
      const symptom = button.getAttribute("data-symptom");
      if (button.classList.contains("active")) {
        selectedSymptoms.push(symptom);
      } else {
        const index = selectedSymptoms.indexOf(symptom);
        if (index > -1) selectedSymptoms.splice(index, 1);
      }
      displaySelectedSymptoms();
    });
  });

  function displaySelectedSymptoms() {
    const ul = document.getElementById("selected-symptoms");
    ul.innerHTML = "";
    selectedSymptoms.forEach(symptom => {
      const li = document.createElement("li");
      li.textContent = symptom;
      ul.appendChild(li);
    });
  }

  // Bugünün Yemekleri: CRUD İşlemleri
  document.getElementById("add-meal-button").addEventListener("click", () => {
    const mealInput = document.getElementById("meal-input");
    const mealName = mealInput.value.trim();

    if (mealName) {
      const mealList = document.getElementById("meal-list");
      const li = document.createElement("li");
      li.textContent = mealName;

      const deleteButton = document.createElement("button");
      deleteButton.textContent = "Delete";
      deleteButton.onclick = () => li.remove();

      li.appendChild(deleteButton);
      mealList.appendChild(li);
      mealInput.value = "";
    }
  });
</script>

</body>
</html>

    <!-- Diğer Feature Container'lar -->
      <!-- Altındaki 3 Container -->
    <div class="three-containers">
      <div class="feature-container">
          <h3>Water Tracking</h3>
          <div class="water-circle">
            <button id="decrease-water" class="circle-button">-</button>
            <div class="water-display">
              <img src="https://clipart.world/wp-content/uploads/2021/05/Water-Bottle-clipart-transparent-background.png" 
                  alt="Water Glass" class="water-icon">
              <p id="water-amount">0.00</p>
              <p class="water-unit">L</p>
            </div>
            <button id="increase-water" class="circle-button">+</button>
          </div>
          <p id="water-progress-text">0.00 / 2L Goal</p>
      </div>
      <div class="feature-container">
          <h3>Weight Tracking</h3>
          <div class="weight-circle">
            <button id="decrease-weight" class="circle-button">-</button>
            <div class="weight-display">
              <img src="https://w1.pngwing.com/pngs/368/341/png-transparent-measuring-scales-yellow-cartoon-animation-human-body-weight-balans-steelyard-balance-line-area-thumbnail.png" 
                  alt="tarti" class="water-icon">
                <p id="weight-value">64.0</p>
                <div class="unit-toggle">
                <span id="kg" class="active">KG</span> | <span id="lb">LB</span>
              </div>
            </div>
            <button id="increase-weight" class="circle-button">+</button>
        </div>
      </div>
      <div class="feature-container">
          <h3>Calorie Tracking</h3>
          <p>Upload your meal image to estimate calories</p>
          <input type="file" id="mealImage" />
          <button>Estimate Calories</button>
      </div>
    </div>
  </section>
<!-- Tarifler Konteyneri -->
<div id="recipes-container" style="margin-top: 50px;">
  <h2 style="text-align: center;">Meal Recipes</h2>
  <!-- Arama Çubuğu -->
  <input 
    type="text" 
    id="recipe-search" 
    placeholder="Search recipes..." 
    style="
      display: block; 
      margin: 0 auto 20px auto; 
      padding: 10px; 
      width: 50%; 
      border: 1px solid #ddd; 
      border-radius: 5px; 
      font-size: 16px;
    "
  />

  <div 
    id="recipes-list" 
    style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const searchInput = document.getElementById('recipe-search');
    const recipesList = document.getElementById('recipes-list');
    let recipesData = []; // Tüm tariflerin tutulacağı dizi

    // Tarifleri API'den çek
    const fetchRecipes = async () => {
      try {
        const response = await fetch('/api/recipes');
        recipesData = await response.json(); // Tüm tarifleri kaydet
        displayRecipes(recipesData);
      } catch (err) {
        console.error('Tarifler yüklenirken hata oluştu:', err);
      }
    };

    // Tarifleri ekranda göster
    const displayRecipes = (recipes) => {
      recipesList.innerHTML = ''; // Mevcut tarifleri temizle
      recipes.forEach(recipe => {
        const recipeCard = `
          <div style="
            border: 1px solid #ddd; 
            border-radius: 10px; 
            padding: 15px; 
            width: 250px; 
            text-align: center; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
          ">
            <img src="${recipe.image_url}" alt="${recipe.name}" style="width: 100%; border-radius: 5px;">
            <h3>${recipe.name}</h3>
            <p>${recipe.description}</p>
          </div>
        `;
        recipesList.innerHTML += recipeCard;
      });
    };

    // Arama çubuğu için filtreleme
    searchInput.addEventListener('input', (e) => {
      const searchTerm = e.target.value.toLowerCase();
      const filteredRecipes = recipesData.filter(recipe => 
        recipe.name.toLowerCase().includes(searchTerm) || 
        recipe.description.toLowerCase().includes(searchTerm)
      );
      displayRecipes(filteredRecipes);
    });

    // Sayfa yüklendiğinde tarifleri çek
    fetchRecipes();
  });
</script>


  <!-- Contact Us -->
  <section id="contact">
    <h2>Contact Us</h2>
    <p>If you have any questions, feel free to reach out!</p>
  </section>
<script src="js/script.js"></script>
</body>
</html>
